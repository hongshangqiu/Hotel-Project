.cal-v5-root {
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  z-index: 10000; // 极高层级
  display: flex;
  flex-direction: column;

  .cal-v5-mask {
    flex: 1;
    background: rgba(0, 0, 0, 0.6);
  }

  .cal-v5-content {
    background: #fff;
    height: 75vh; // 占用屏幕约 3/4
    border-radius: 32rpx 32rpx 0 0;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    max-width: 600px;
    margin: 0 auto;
    width: 100%;
    animation: slideUp 0.3s ease-out;

    .cal-v5-header {
      padding: 35rpx 30rpx;
      text-align: center;
      position: relative;
      background: #fff;
      .close-btn {
        position: absolute; left: 30rpx; top: 20rpx;
        font-size: 56rpx; color: #999; font-weight: 200;
      }
      .title { font-size: 32rpx; font-weight: bold; color: #333; }
    }

    .cal-v5-weeks {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      padding: 20rpx 0;
      background: #fff;
      border-bottom: 1rpx solid #f2f2f2;
      .week-item { text-align: center; font-size: 24rpx; color: #666; }
    }

    .cal-v5-scroll {
      flex: 1;
      .m-section {
        .m-title {
          padding: 50rpx 0 30rpx 40rpx;
          font-size: 30rpx;
          font-weight: bold;
          color: #333;
        }
        .d-grid {
          display: grid;
          grid-template-columns: repeat(7, 1fr);
          padding-bottom: 30rpx;

          .d-cell {
            height: 110rpx;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            margin-bottom: 8rpx;

            .d-num { font-size: 28rpx; font-weight: 500; color: #333; }
            .d-label { font-size: 18rpx; margin-top: 4rpx; }

            // 1. 虚化样式
            &.disabled {
              .d-num { color: #ddd; }
            }

            // 2. 今天
            &.today .d-num { color: #ff4500; font-weight: bold; }

            // 3. 选中样式（采用橙色系）
            &.selected {
              background: #ff4500; // 选中主色
              color: #fff;
              border-radius: 12rpx;
              .d-num, .d-label { color: #fff; }

              &.start { border-radius: 12rpx 0 0 12rpx; }
              &.end { border-radius: 0 12rpx 12rpx 0; }
              &.single { border-radius: 12rpx; }
            }

            // 4. 区间样式
            &.in-range {
              background: #fff0eb; // 浅色背景
              .d-num { color: #ff4500; }
            }

            &.empty { visibility: hidden; }
          }
        }
      }
    }
  }
}

@keyframes slideUp {
  from { transform: translateY(100%); }
  to { transform: translateY(0); }
}